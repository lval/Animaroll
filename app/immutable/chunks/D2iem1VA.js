const T="en",m=["en","es","ja","zh-CN"],w="lang";const k="animaroll.app",L=["cookie","preferredLanguage","url","baseLocale"];globalThis.__paraglide={};let g=!1,f=()=>{let e;for(const o of L){if(o==="cookie")e=z();else if(o==="baseLocale")e="en";else if(o==="url"&&typeof window<"u")e=b(window.location.href);else if(o==="preferredLanguage")e=C();else if(y(o)&&c.has(o)){const t=c.get(o);if(t){const a=t.getLocale();if(a instanceof Promise)continue;e=a}}if(e!==void 0){const t=x(e);return g||(g=!0,v(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},v=(e,o)=>{const t={reload:!0,...o};let a;try{a=f()}catch{}let r;for(const n of L)if(n==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const l=`${w}=${e}; path=/; max-age=34560000`;document.cookie=`${l}; domain=${k}`}else{if(n==="baseLocale")continue;if(n==="url"&&typeof window<"u")r=s(window.location.href,{locale:e}).href;else if(y(n)&&c.has(n)){const l=c.get(n);if(l){const d=l.setLocale(e);d instanceof Promise&&d.catch(U=>{console.warn(`Custom strategy "${n}" setLocale failed:`,U)})}}}t.reload&&window.location&&e!==a&&(r?window.location.href=r:window.location.reload())},u=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function i(e){return e?m.includes(e):!1}function x(e){if(i(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${m.join(", ")}`);return e}function z(){if(typeof document>"u"||!document.cookie)return;const o=document.cookie.match(new RegExp(`(^| )${w}=([^;]+)`))?.[2];if(i(o))return o}function C(){if(!navigator?.languages?.length)return;const e=navigator.languages.map(o=>({fullTag:o.toLowerCase(),baseTag:o.split("-")[0]?.toLowerCase()}));for(const o of e){if(i(o.fullTag))return o.fullTag;if(i(o.baseTag))return o.baseTag}}let h,p;function b(e){const o=typeof e=="string"?e:e.href;if(h===o)return p;let t;return t=S(e),h=o,p=t,t}function S(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const a=t[0];if(i(a))return a}return"en"}function s(e,o){return $(e,o)}function $(e,o){const t=typeof e=="string"?new URL(e,u()):new URL(e),a=o?.locale??f();if(b(t)===a)return t;const n=t.pathname.split("/").filter(Boolean);return n.length>0&&i(n[0])&&n.shift(),a==="en"?t.pathname="/"+n.join("/"):t.pathname="/"+a+"/"+n.join("/"),t}function E(e){return j(e)}function j(e){const o=typeof e=="string"?new URL(e,u()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&i(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}function O(e,o){const t=f(),a=o?.locale??t,r=new URL(e,u()),n=s(r,{locale:a});return e.startsWith("/")&&r.origin===n.origin?a!==t&&s(r,{locale:t}).origin!==n.origin?n.href:n.pathname+n.search+n.hash:n.href}const c=new Map;function y(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}const R="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(R);export{m as a,T as b,E as d,f as g,i,O as l,v as s};
